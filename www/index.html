<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>–¢–∏—Ö–∞—è –ó–∞–±–æ—Ç–∞</title>
<style>
  :root {
    --bg1:#fff9f9; --bg2:#f0f4ff; --card:#ffffff; --ink:#2f2f2f; --muted:#6b7280;
    --accent:#6c63ff; --accent-2:#5a54d6; --ok:#16a34a; --soft:#f8fafc; --hard-bg:#fffdf7; --hard-border:#ffe5b4;
  }
  *{box-sizing:border-box}
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; max-width: 520px; margin: auto; padding: 1rem; background: linear-gradient(135deg, var(--bg1), var(--bg2)); color: var(--ink);} 
  h1 { text-align: center; font-size: 1.9rem; color: #444; margin: .2rem 0 1rem; animation: fadeInDown .6s ease; }
  .sub {text-align:center; color:var(--muted); margin-top:-.6rem; font-size:.9rem}
  .row { display:flex; gap:.5rem; align-items:center; justify-content:center; flex-wrap:wrap; }

  .task { display:flex; align-items:center; gap:.7rem; background: var(--card); margin: .55rem 0; padding: .8rem .9rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,.05); transition: transform .2s, background .3s, box-shadow .2s; }
  .task:hover { transform: translateY(-1px); background: #f9f9ff; box-shadow: 0 6px 18px rgba(0,0,0,.06); }
  .task input { appearance: none; width: 22px; height: 22px; border-radius: .5rem; border: 2px solid #d1d5db; display:grid; place-items:center; cursor:pointer; transition: all .2s; }
  .task input:checked { background: var(--accent); border-color: var(--accent); }
  .task input:checked::after { content:"‚úî"; color:white; font-size:14px; }
  .task .txt { flex:1; line-height:1.35; }
  .task.done .txt { text-decoration: line-through; opacity:.65; }

  .hard { background: var(--hard-bg); border-left: 4px solid var(--hard-border); }
  .badge { font-size:.8rem; opacity:.8; padding:.15rem .4rem; border-radius: 999px; background:#fff3; display:inline-flex; align-items:center; gap:.25rem }
  .badge .dot{ font-size:1rem }

  .message { background: #e6ffed; color: #155724; padding: .7rem .9rem; border-radius: 10px; margin: .7rem 0; font-size: .98rem; animation: fadeIn .35s ease; white-space: pre-line; }

  .cards { display:grid; gap:.6rem; grid-template-columns: 1fr 1fr; }
  .card { background: var(--card); padding:.8rem .9rem; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,.05); }
  .card h3 { margin:.1rem 0 .4rem; font-size:1rem; color:#374151 }
  .muted { color:var(--muted); white-space:pre-line }

  .btn { margin-top:.6rem; padding:.7rem 1.1rem; border:none; background: var(--accent); color:#fff; border-radius: 10px; font-size: 1rem; cursor:pointer; transition: background .25s, transform .15s; }
  .btn:hover { background: var(--accent-2); transform: translateY(-2px); }
  .btn.secondary { background:#1118270d; color:#111827; }

  .reward { display:none; background:#f0fdf4; border:1px solid #bbf7d0; color:#14532d; padding:.9rem; border-radius:12px; margin-top:.6rem }
  .reward.show { display:block; animation: fadeIn .35s ease }

  /* confetti */
  .confetti { position: fixed; inset:0; pointer-events:none; overflow:hidden; z-index: 999; }
  .confetti i{ position:absolute; width:10px; height:16px; background: hsl(var(--h) 90% 60%); transform: rotate( var(--r) ); top:-10px; left:var(--x); animation: drop 1.2s ease-in forwards; }
  @keyframes drop { to { transform: translateY(100vh) rotate(calc(var(--r) + 180deg)); opacity:.8 } }

  @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }
  @keyframes fadeInDown { from {opacity: 0; transform: translateY(-10px);} to {opacity: 1; transform: translateY(0);} }
</style>
</head>
<body>
  <h1>–¢–∏—Ö–∞—è –ó–∞–±–æ—Ç–∞</h1>
  <div class="sub" id="date"></div>

  <div id="tasks"></div>
  <div id="message" class="message" style="display:none"></div>

  <div class="row">
    <button class="btn" onclick="newDay()">–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</button>
    <button class="btn secondary" onclick="shareProgress()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
  </div>

  <div class="cards" style="margin-top:.8rem">
    <div class="card" style="grid-column: span 2; display:flex; align-items:center; justify-content:space-between; gap:.6rem; flex-wrap:wrap">
      <div>
        <h3 style="margin-bottom:.2rem">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
        <div class="muted">–†–∞–∑ –≤ —á–∞—Å –ø—Ä–∏—Ö–æ–¥–∏—Ç –º–∏–ª–∞—è —Ñ—Ä–∞–∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏. –ü–æ –Ω–∞–∂–∞—Ç–∏—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.</div>
      </div>
      <button class="btn" id="notifyBtn" onclick="toggleNotifications()">–í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
    </div>
  </div>

  <div class="cards" style="margin-top:.8rem">
    <div class="card">
      <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
      <div id="stats" class="muted"></div>
    </div>
    <div class="card">
      <h3>–ù–∞–≥—Ä–∞–¥—ã</h3>
      <div id="rewards" class="muted">–ü–æ–∫–∞ –±–µ–∑ –Ω–∞–≥—Ä–∞–¥.</div>
      <div id="rewardBox" class="reward"></div>
    </div>
  </div>

  <div id="confetti" class="confetti" aria-hidden="true"></div>

<script>
// =============== –î–ê–ù–ù–´–ï ===============
const normalTasks = [
  'üíß –í—ã–ø–∏—Ç—å —Å—Ç–∞–∫–∞–Ω –≤–æ–¥—ã', 'üö∂ –ü—Ä–æ–π—Ç–∏—Å—å 10 –º–∏–Ω—É—Ç –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ', '‚òÄÔ∏è –ü–æ–π–º–∞—Ç—å —Å–æ–ª–Ω—Ü–µ: 5 –º–∏–Ω—É—Ç —É –æ–∫–Ω–∞/–Ω–∞ —É–ª–∏—Ü–µ',
  'üìµ –°–¥–µ–ª–∞—Ç—å –ø–∞—É–∑—É 10 –º–∏–Ω—É—Ç –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞', 'üçé –°—ä–µ—Å—Ç—å —Ñ—Ä—É–∫—Ç –∏–ª–∏ –≥–æ—Ä—Å—Ç—å –æ—Ä–µ—Ö–æ–≤', 'üìù –ó–∞–ø–∏—Å–∞—Ç—å 3 –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏',
  'üå¨ 5 –≥–ª—É–±–æ–∫–∏—Ö –≤–¥–æ—Ö–æ–≤ 4‚Äì7‚Äì8', 'üßπ –ù–∞–≤–µ—Å—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –Ω–∞ —Å—Ç–æ–ª–µ (5 –º–∏–Ω)', 'üé∂ –í–∫–ª—é—á–∏—Ç—å –ª—é–±–∏–º—É—é –ø–µ—Å–Ω—é –∏ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–ª—É—à–∞—Ç—å',
  'üê≠ –ü–æ–≥–ª–∞–¥–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞ / —É–¥–µ–ª–∏—Ç—å –µ–º—É –≤—Ä–µ–º—è', 'üìñ –ü—Ä–æ—á–∏—Ç–∞—Ç—å 2 —Å—Ç—Ä–∞–Ω–∏—Ü—ã', 'üòä –£–ª—ã–±–Ω—É—Ç—å—Å—è —Å–µ–±–µ –≤ –∑–µ—Ä–∫–∞–ª–æ',
  'üí™ 10 –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–π', 'üå± –ü–æ–ª–∏—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏—è', 'üçµ –¢—ë–ø–ª—ã–π —á–∞–π –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞',
  'üôå –ü–æ—Ö–≤–∞–ª–∏—Ç—å —Å–µ–±—è –∑–∞ –º–µ–ª–æ—á—å', 'üíå –ú–∞–ª–µ–Ω—å–∫–æ–µ –¥–æ–±—Ä–æ–µ –¥–µ–ª–æ', '‚òÅÔ∏è –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –Ω–µ–±–æ 1 –º–∏–Ω—É—Ç—É',
  'üß© –ì–æ–ª–æ–≤–æ–ª–æ–º–∫–∞/–∫—Ä–æ—Å—Å–≤–æ—Ä–¥ (5 –º–∏–Ω)', 'üì∏ –§–æ—Ç–æ —á–µ–≥–æ-—Ç–æ –∫—Ä–∞—Å–∏–≤–æ–≥–æ',
  'ü•ó –ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ–ª–µ–∑–Ω—ã–π –ø–µ—Ä–µ–∫—É—Å', '‚úçÔ∏è 5 –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π', 'üß¶ –†–∞–∑–æ–±—Ä–∞—Ç—å –æ–¥–∏–Ω —è—â–∏–∫',
  'üì∫ –í–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–µ–µ –≤–∏–¥–µ–æ (–¥–æ 10 –º–∏–Ω)', 'üé® –ù–∞–±—Ä–æ—Å–∞—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∏—Å—É–Ω–æ–∫',
  'üìÖ –°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω –Ω–∞ –∑–∞–≤—Ç—Ä–∞ (3 –ø—É–Ω–∫—Ç–∞)', 'üéß –ü–æ–¥–∫–∞—Å—Ç 10 –º–∏–Ω—É—Ç', 'üì¨ –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –¥–∞–≤–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ',
  'ü™¥ –ü–µ—Ä–µ—Å–∞–¥–∏—Ç—å/–ø–æ–¥–∫–æ—Ä–º–∏—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏–µ', 'üçµ –í—ã–ø–∏—Ç—å –≤–æ–¥—É –ø–æ—Å–ª–µ –∫–æ—Ñ–µ',
  'üõè –ó–∞–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–æ–≤–∞—Ç—å', 'üöø –û—Å–≤–µ–∂–∞—é—â–∏–π –¥—É—à', 'üß† –í—ã—É—á–∏—Ç—å –Ω–æ–≤–æ–µ —Å–ª–æ–≤–æ',
  'üéØ –ú–∏–Ω–∏-—Ü–µ–ª—å –Ω–∞ –¥–µ–Ω—å (1 –¥–µ–π—Å—Ç–≤–∏–µ)', 'üõå 10 –º–∏–Ω—É—Ç —Ç–∏—Ö–æ–≥–æ –æ—Ç–¥—ã—Ö–∞ –±–µ–∑ —ç–∫—Ä–∞–Ω–∞',
  'üß¥ –£–º—ã—Ç—å—Å—è/—É—Ö–æ–¥ –∑–∞ –ª–∏—Ü–æ–º', 'ü¶∂ 200 —à–∞–≥–æ–≤ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å', 'üß∫ –°–æ–±—Ä–∞—Ç—å —Å—Ç–∏—Ä–∫—É/—Ä–∞–∑–æ–±—Ä–∞—Ç—å –±–µ–ª—å—ë',
  'üçΩ –û—Å–æ–∑–Ω–∞–Ω–Ω–æ –ø–æ–µ—Å—Ç—å –±–µ–∑ —ç–∫—Ä–∞–Ω–∞', 'üßΩ –ü—Ä–æ—Ç–µ—Ä–µ—Ç—å —Å—Ç–æ–ª 1 –º–∏–Ω—É—Ç—É', 'ü™ü –ü—Ä–æ–≤–µ—Ç—Ä–∏—Ç—å –∫–æ–º–Ω–∞—Ç—É',
  'üå§ –û—Ç–∫—Ä—ã—Ç—å –æ–∫–Ω–æ –∏ —Å–¥–µ–ª–∞—Ç—å 5 –≤–¥–æ—Ö–æ–≤', 'üìì 1 —Å—Ç—Ä–æ–∫–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞', 'üïØ –ó–∞–∂–µ—á—å —Å–≤–µ—á—É/–∞—Ä–æ–º–∞—Ç—ã –Ω–∞ 5 –º–∏–Ω',
  'üßç –†–∞—Å—Ç—è–∂–∫–∞ —à–µ–∏ –∏ –ø–ª–µ—á (2 –º–∏–Ω)', 'ü§ù –ù–∞–ø–∏—Å–∞—Ç—å –¥–æ–±—Ä—ã–µ —Å–ª–æ–≤–∞ –∫–æ–º—É-—Ç–æ', 'üóë –í—ã–∫–∏–Ω—É—Ç—å –º—É—Å–æ—Ä/—Å—Ç–∞—Ä—ã–µ —á–µ–∫–∏',
  'üß∞ –ü–æ—á–∏–Ω–∏—Ç—å –º–µ–ª–æ—á—å/–ø–æ–¥–∫—Ä—É—Ç–∏—Ç—å', 'üíº –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ–¥–µ–∂–¥—É –Ω–∞ –∑–∞–≤—Ç—Ä–∞', '‚è∞ –ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–∏—Ç—å –≤–æ–¥—É',
  'üîï –û—Ç–∫–ª—é—á–∏—Ç—å –ª–∏—à–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'üîÑ 10 –∫—Ä—É–≥–æ–≤—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π –ø–ª–µ—á–∞–º–∏', 'üìö –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É –≤ —Å–ø–∏—Å–æ–∫',
  'üéµ –£—Å–ø–æ–∫–∞–∏–≤–∞—é—â–∏–π —Ç—Ä–µ–∫ –∏ –ø–æ—Å–∏–¥–µ—Ç—å', 'üóì –ó–∞–ø–∏—Å–∞—Ç—å –≤–∞–∂–Ω—É—é –¥–∞—Ç—É', 'üßë‚Äçüéì 10 –º–∏–Ω—É—Ç —É—á—ë–±—ã', '‚òï –ù–∞–ø–∏—Ç–æ–∫ –±–µ–∑ —Å–∞—Ö–∞—Ä–∞',
  'üßØ –û—Ü–µ–Ω–∏—Ç—å —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ –ø–æ —à–∫–∞–ª–µ 1‚Äì10', 'üß¥ –£–≤–ª–∞–∂–Ω–∏—Ç—å —Ä—É–∫–∏/–≥—É–±—ã', 'üßπ –ü–æ–¥–º–µ—Å—Ç–∏/–ø—Ä–æ–ø—ã–ª–µ—Å–æ—Å–∏—Ç—å 1 –∑–æ–Ω—É',
  'üëü –ü–æ—á–∏—Å—Ç–∏—Ç—å –æ–±—É–≤—å', 'üç≥ –ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π —É–∂–∏–Ω/–∑–∞–≤—Ç—Ä–∞–∫', 'üì≠ –û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç 3 —Ä–∞—Å—Å—ã–ª–æ–∫',
  'üóÉ –†–∞–∑–æ–±—Ä–∞—Ç—å 5 —Ñ–æ—Ç–æ/—Ñ–∞–π–ª–æ–≤ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ', 'ü©∫ –û—Ç–º–µ—Ç–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ/—Å–∏–º–ø—Ç–æ–º (1 —Ñ—Ä–∞–∑–∞)',
  'üéí –°–æ–±—Ä–∞—Ç—å —Å—É–º–∫—É –Ω–∞ –∑–∞–≤—Ç—Ä–∞', 'üîë –ü–æ–ª–æ–∂–∏—Ç—å –∫–ª—é—á–∏/–¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ –º–µ—Å—Ç–æ'
];

const hardTasks = [
  'üö≠ –î–µ–Ω—å –±–µ–∑ –∫—É—Ä–µ–Ω–∏—è', 'üç∫ –î–µ–Ω—å –±–µ–∑ –∞–ª–∫–æ–≥–æ–ª—è', 'üèÉ –ü—Ä–æ–±–µ–∂–∫–∞ 2 –∫–º', 'üö∂ 12 000 —à–∞–≥–æ–≤ –∑–∞ –¥–µ–Ω—å',
  'üèãÔ∏è 20 –º–∏–Ω—É—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏', 'üßπ –£–±–æ—Ä–∫–∞ 30 –º–∏–Ω—É—Ç (–æ–¥–Ω–∞ –∑–æ–Ω–∞)', 'üìñ –ü—Ä–æ—á–∏—Ç–∞—Ç—å 30 —Å—Ç—Ä–∞–Ω–∏—Ü',
  'üìö 30 –º–∏–Ω—É—Ç —É—á—ë–±—ã/–∫—É—Ä—Å–∞', 'üí∏ –°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–ª–≥–æ–≤ –∏ –¥–∞—Ç', 'üìû –°–¥–µ–ª–∞—Ç—å 1 –≤–∞–∂–Ω—ã–π –∑–≤–æ–Ω–æ–∫ (–±–∞–Ω–∫/–¥–µ–ª–æ)',
  'üóÇ –†–µ—à–∏—Ç—å –æ–¥–Ω–æ –±—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–µ–ª–æ (–∑–∞–ø–∏—Å—å/—Ñ–æ—Ä–º–∞)', 'üõè –õ–µ—á—å —Å–ø–∞—Ç—å –¥–æ 23:00',
  'ü•ò –ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –±–ª—é–¥–æ –∏–∑ —Ü–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤', 'üìµ 4 —á–∞—Å–∞ –±–µ–∑ —Å–æ—Ü—Å–µ—Ç–µ–π –ø–æ–¥—Ä—è–¥',
  'üßò –ú–µ–¥–∏—Ç–∞—Ü–∏—è 10 –º–∏–Ω—É—Ç', 'üö∂ –ü—Ä–æ–≥—É–ª–∫–∞ 30 –º–∏–Ω—É—Ç –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞', 'üß∫ –†–∞–∑–æ–±—Ä–∞—Ç—å –ø–æ–ª–∫—É/—è—â–∏–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é',
  'üì¶ –°–æ–±—Ä–∞—Ç—å –ø–∞–∫–µ—Ç ¬´–Ω–∞ –≤—ã–∫–∏–Ω—É—Ç—å/–æ—Ç–¥–∞—Ç—å¬ª', 'üìù –ü–∏—Å—å–º–æ —Å–µ–±–µ —á–µ—Ä–µ–∑ –≥–æ–¥ (10‚Äì15 —Å—Ç—Ä–æ–∫)',
  'üí≥ –í–Ω–µ—Å—Ç–∏ –ø–ª–∞—Ç—ë–∂ –ø–æ –¥–æ–ª–≥—É/–º–∏–Ω–∏–º—É–º —Å–µ–≥–æ–¥–Ω—è',
  'üßæ –°–æ—Å—Ç–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç –Ω–∞ –Ω–µ–¥–µ–ª—é (15 –º–∏–Ω)', 'üßÆ –ù–∞–π—Ç–∏ –∏ –æ—Ç–º–µ–Ω–∏—Ç—å –ª–∏—à–Ω—é—é –ø–æ–¥–ø–∏—Å–∫—É/–∫–æ–º–∏—Å—Å–∏—é',
  'üè¶ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—á–µ—Ç–∞ –∏ –∑–∞–ø–∏—Å–∞—Ç—å –æ—Å—Ç–∞—Ç–∫–∏', 'üëî –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—é–º–µ/–ø—Ä–æ—Ñ–∏–ª—å (20 –º–∏–Ω)',
  'üßΩ –ì–µ–Ω—É–±–æ—Ä–∫–∞ –∫—É—Ö–Ω–∏ –∏–ª–∏ –≤–∞–Ω–Ω–æ–π (40 –º–∏–Ω)', 'üè• –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –∫ –≤—Ä–∞—á—É/—Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥—É',
  'üåô 2 —á–∞—Å–∞ –±–µ–∑ —ç–∫—Ä–∞–Ω–∞ –ø–µ—Ä–µ–¥ —Å–Ω–æ–º', 'üß≥ –†–∞–∑–æ–±—Ä–∞—Ç—å –∫–æ—Ä–æ–±–∫—É/—á–µ–º–æ–¥–∞–Ω —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –≤–µ—â–∞–º–∏',
  'üéì –ü—Ä–æ–π—Ç–∏ –æ–¥–∏–Ω —É—Ä–æ–∫ –∫—É—Ä—Å–∞ –∏ –∑–∞–∫–æ–Ω—Å–ø–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å', 'üßò –†–∞—Å—Ç—è–∂–∫–∞ –≤—Å–µ–≥–æ —Ç–µ–ª–∞ 20 –º–∏–Ω—É—Ç'
];

const messages = [
  '‚ú® –ú–æ–ª–æ–¥–µ—Ü! –¢—ã —Å–¥–µ–ª–∞–ª —à–∞–≥ –∫ –ª—É—á—à–µ–º—É –¥–Ω—é.', 'üåü –í–∏–¥–∏—à—å? –ü–æ–ª—É—á–∞–µ—Ç—Å—è!', 'üíñ –¢–∏—Ö–∏–µ –ø–æ–±–µ–¥—ã ‚Äî —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ.',
  'üèÜ –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ ‚Äî –∫–∏—Ä–ø–∏—á–∏–∫ –≤ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç.', 'üíé –¢—ã –∑–∞–±–æ—Ç–∏—à—å—Å—è –æ —Å–µ–±–µ ‚Äî —ç—Ç–æ —Ü–µ–Ω–Ω–æ.', 'üöÄ –ú–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ –≤–µ–¥—É—Ç –∫ –±–æ–ª—å—à–∏–º.',
  'üåà –°–µ–≥–æ–¥–Ω—è —Ç—ã –≤—ã–±—Ä–∞–ª —Å–µ–±—è.', 'üå± –í–∞–∂–Ω–æ –∏ —ç—Ç–æ ‚Äî –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞–∂–µ—Ç—Å—è –º–µ–ª–æ—á—å—é.', 'üî• –¢—ã –¥–≤–∏–∂–µ—à—å—Å—è –≤–ø–µ—Ä—ë–¥.',
  'üòä –•–æ—Ä–æ—à–µ–µ —á—É–≤—Å—Ç–≤–æ, –ø—Ä–∞–≤–¥–∞?', 'üíå –¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –∑–∞–±–æ—Ç—ã.', '‚òÄ –≠—Ç–æ —Ç–≤–æ–π –º–æ–º–µ–Ω—Ç.', 'üôè –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –Ω–µ –∑–∞–±—ã–≤–∞–µ—à—å –ø—Ä–æ —Å–µ–±—è.',
  'üìà –ß—É—Ç—å-—á—É—Ç—å ‚Äî —Ç–æ–∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.', 'üí™ –ì–æ—Ä–∂—É—Å—å —Ç–æ–±–æ–π –∑–∞ —ç—Ç–æ.', 'üåª –¢—ã —É—á–∏—à—å—Å—è –±—ã—Ç—å —Ä—è–¥–æ–º —Å —Å–æ–±–æ–π.',
  'ü¶ã –°–µ–≥–æ–¥–Ω—è —Ç—ã –º—è–≥—á–µ –∫ —Å–µ–±–µ.', 'üåä –®–∞–≥ –∑–∞ —à–∞–≥–æ–º ‚Äî –∏ –±—É–¥–µ—Ç –±–µ—Ä–µ–≥.', 'üí´ –¢—ã —Å—Ç—Ä–æ–∏—à—å —Å–≤–æ–π —Å–≤–µ—Ç.',
  'ü™û –°–º–æ—Ç—Ä–∏, –∫–∞–∫–æ–π —Ç—ã —Å–∏–ª—å–Ω—ã–π, –∫–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞–µ—à—å —Å–µ–±—è.', 'üß≠ –î–≤–∏–≥–∞–µ—à—å—Å—è –ø–æ —Å–≤–æ–µ–º—É –∫—É—Ä—Å—É.', 'ü´∂ –•–æ—Ä–æ—à–∏–π –∂–µ—Å—Ç –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ —Å–µ–±–µ.',
  'üçÄ –ü—É—Å—Ç—å —ç—Ç–æ –±—É–¥–µ—Ç –¥–æ–±—Ä–æ–π –ø—Ä–∏–≤—ã—á–∫–æ–π.', 'üåº –¢—ë–ø–ª–∞—è –∑–∞–±–æ—Ç–∞ ‚Äî —É–∂–µ –ø–æ–±–µ–¥–∞.', 'üìå –¢—ã –¥–µ—Ä–∂–∏—à—å—Å—è —Ç–∞–º, –≥–¥–µ –≤–∞–∂–Ω–æ.',
  'üß© –ú–∞–ª–µ–Ω—å–∫–∏–π –∫—É—Å–æ—á–µ–∫ —Å–æ–±–∏—Ä–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω—É.', 'üéØ –ü–æ–ø–∞–¥–∞–Ω–∏–µ –≤ –Ω–∞–º–µ—á–µ–Ω–Ω—É—é —Ü–µ–ª—å.', 'üå§ –ù–µ–º–Ω–æ–≥–æ —è—Å–Ω–µ–µ, —á–µ–º —É—Ç—Ä–æ–º.',
  'ü™¥ –¢—ã —Ä–∞—Å—Ç–∏—à—å —Å–µ–±—è –ø–æ–Ω–µ–º–Ω–æ–≥—É.', '‚öì –ß—É—Ç—å –∫—Ä–µ–ø—á–µ —Å—Ç–æ–∏—à—å –Ω–∞ –Ω–æ–≥–∞—Ö.', 'üéà –õ–µ–≥—á–µ –¥—ã—à–∏—Ç—Å—è ‚Äî –∑–∞–º–µ—Ç–∏–ª?',
  'üß† –¢—ã –≤–Ω–∏–º–∞—Ç–µ–ª–µ–Ω –∫ —Å–µ–±–µ.', 'üå¨ –°—Ç–∞–ª–æ —Å–ø–æ–∫–æ–π–Ω–µ–µ –≤–Ω—É—Ç—Ä–∏.', 'üß° –°–ø–∞—Å–∏–±–æ —Å–µ–±–µ —Å–∫–∞–∂–∏ –≤—Å–ª—É—Ö.',
  'üéµ –•–æ—Ä–æ—à–∏–π —Ä–∏—Ç–º –¥–Ω—è.', 'üîã +1 –∫ —ç–Ω–µ—Ä–≥–∏–∏.', 'üèÖ –ó–∞—Å–ª—É–∂–µ–Ω–Ω–∞—è –≥–∞–ª–æ—á–∫–∞.', 'üßä –ß—É—Ç—å –º–µ–Ω—å—à–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∂–∞—Ä–∞.',
  'üåô –°–ø–æ–∫–æ–π–Ω–æ–π —Å—Ç–∞–Ω–µ—Ç –Ω–æ—á—å.', 'üåü –¢–≤–æ—è —Å–µ—Ä–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.',
  'üß≤ –¢—ã —Å–æ–±—Ä–∞–ª—Å—è ‚Äî –∏ —Å–¥–µ–ª–∞–ª.', 'ü™¥ –ï—â—ë –æ–¥–∏–Ω –º–∏–ª–ª–∏–º–µ—Ç—Ä —Ä–æ—Å—Ç–∞.', 'üß± –ü–ª—é—Å –æ–¥–∏–Ω –∫–∏—Ä–ø–∏—á–∏–∫ –æ–ø–æ—Ä—ã.',
  'üéí –¢–≤–æ–π —Ä—é–∫–∑–∞–∫ —Å —Å–∏–ª–∞–º–∏ —Å—Ç–∞–ª —Ç—è–∂–µ–ª–µ–µ.', 'üß≠ –ö—É—Ä—Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω.', 'üïä –î—ã—à–∏—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω–µ–µ.',
  'üß° –¢–µ–ø–ª–µ–µ –∫ —Å–µ–±–µ ‚Äî —Ç–µ–ø–ª–µ–µ –º–∏—Ä—É.', 'üå§ –í–Ω—É—Ç—Ä–∏ —Å—Ç–∞–ª–æ —Å–≤–µ—Ç–ª–µ–µ.', 'ü™∂ –õ–µ–≥—á–µ –Ω–∞ –¥—É—à–µ.',
  'üéß –¢—ã —É—Å–ª—ã—à–∞–ª —Å–µ–±—è.', 'üìå –î–µ–Ω—å —Å—Ç–∞–ª —á—ë—Ç—á–µ.', 'ü´ß –ß–∏—Å—Ç–æ –∏ —Å–ø–æ–∫–æ–π–Ω–æ –≤–Ω—É—Ç—Ä–∏.',
  'üßØ –¢—Ä–µ–≤–æ–≥–∏ —Å—Ç–∞–ª–æ –º–µ–Ω—å—à–µ.', 'üå± –ï—â—ë –æ–¥–∏–Ω –∂–∏–≤–æ–π —Ä–æ—Å—Ç–æ–∫.', '‚öôÔ∏è –ú–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∏–≤—ã—á–∫–∏ —Å—Ä–∞–±–æ—Ç–∞–ª.'
];

const deepQuotes = [
  '¬´–ò–Ω–æ–≥–¥–∞, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–≤–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–µ –≥–∞—Å–∏—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π.¬ª',
  '¬´–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω –±—ã—Ç—å —Å–æ–ª–Ω—Ü–µ–º –¥–ª—è –≤—Å–µ—Ö, –Ω–æ –º–æ–∂–µ—à—å –±—ã—Ç—å —Ç–µ–ø–ª–æ–º –¥–ª—è —Å–µ–±—è.¬ª',
  '¬´–õ—é–¥–∏ –º–µ–Ω—è—é—Ç—Å—è —Ä—è–¥–æ–º —Å –Ω–∞–º–∏ –Ω–µ –∏–∑-–∑–∞ –Ω–∞—Å, –∞ –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏.¬ª',
  '¬´–ù–µ –±–æ–π—Å—è –±—ã—Ç—å –¥–æ–∂–¥—ë–º ‚Äî –æ–Ω —Ç–æ–∂–µ –Ω—É–∂–µ–Ω —Ü–≤–µ—Ç–∞–º.¬ª',
  '¬´–ï—Å–ª–∏ —Ç—ã –±–æ–∏—à—å—Å—è —Å–ª–æ–º–∞—Ç—å —á—å—é-—Ç–æ —Ä–∞–¥–æ—Å—Ç—å, —É—á–∏—Å—å –Ω–µ —Ä—É—à–∏—Ç—å —Å–≤–æ—é.¬ª',
  '¬´–°–Ω–µ–≥ —Ç–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –æ—Ç –ø–µ–ø–ª–∞, –Ω–æ –∏ –æ—Ç –≤–µ—Å–Ω—ã.¬ª',
  '¬´–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω –¥–µ—Ä–∂–∞—Ç—å —á—É–∂–æ–µ –Ω–µ–±–æ —á–∏—Å—Ç—ã–º.¬ª',
  '¬´–ó–∞–±–æ—Ç—è—Å—å –æ —Å–µ–±–µ, —Ç—ã –Ω–µ –ø—Ä–µ–¥–∞—ë—à—å –¥—Ä—É–≥–∏—Ö ‚Äî —Ç—ã —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è —É—Å—Ç–æ–π—á–∏–≤–µ–µ.¬ª',
  '¬´–°–æ—Ö—Ä–∞–Ω—è—è —Å–µ–±—è, —Å–æ—Ö—Ä–∞–Ω—è–µ—à—å –∏ —Ç–µ—Ö, –∫—Ç–æ —Ä—è–¥–æ–º.¬ª',
  '¬´–¢—ã –Ω–µ –ø–µ–ø–µ–ª, –µ—Å–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—à—å —Ç–ª–µ—Ç—å –∏–∑–Ω—É—Ç—Ä–∏.¬ª',
  '¬´–î–∞–∂–µ –≤ –ø–æ–µ–∑–¥–µ –ø–æ –Ω–æ—á–Ω—ã–º —Ä–µ–ª—å—Å–∞–º –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.¬ª',
  '¬´–ü–∞–¥–∞—Ç—å ‚Äî –Ω–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ —Å–¥–∞–≤–∞—Ç—å—Å—è.¬ª',
  '¬´–ú–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ ‚Äî —ç—Ç–æ –Ω–µ –æ–±—Ö–æ–¥, –∞ –ø—É—Ç—å.¬ª',
  '¬´–¢–≤–æ—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –Ω–µ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è —á—É–∂–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.¬ª',
  '¬´–¢–∏—Ö–∞—è –≤–µ—Ä–Ω–æ—Å—Ç—å —Å–µ–±–µ ‚Äî –≥—Ä–æ–º–∫–∞—è –ø–æ–±–µ–¥–∞.¬ª',
  '¬´–ö–æ–≥–¥–∞ —Å—Ç—Ä–∞—à–Ω–æ –∏—Å–ø–æ—Ä—Ç–∏—Ç—å –¥—Ä—É–≥–æ–≥–æ ‚Äî –Ω–∞—á–Ω–∏ –±–µ—Ä–µ—á—å —Å–µ–±—è.¬ª',
  '¬´–¢—ã ‚Äî –Ω–µ –≤—á–µ—Ä–∞. –¢—ã ‚Äî —Ç–æ—Ç, –∫—Ç–æ –¥–µ–ª–∞–µ—Ç —à–∞–≥ —Å–µ–≥–æ–¥–Ω—è.¬ª',
  '¬´–ù–∞–¥–µ–∂–¥–∞ ‚Äî —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ, –∞ –Ω–µ –æ–∂–∏–¥–∞–Ω–∏–µ —É–¥–∞—á–∏.¬ª',
  '¬´–°–≤–µ—Ç –Ω–µ –∏—Å—á–µ–∑, –æ–Ω –∂–¥—ë—Ç —Ç–æ–ø–ª–∏–≤–∞ –∏–∑ –º–∞–ª–µ–Ω—å–∫–∏—Ö –¥–µ–ª.¬ª',
  '¬´–¢—ã —É–∂–µ –º–µ–Ω—è–µ—à—å —Å—é–∂–µ—Ç —Ç–µ–º, —á—Ç–æ –æ—Å—Ç–∞–ª—Å—è.¬ª',
  '¬´–°–∏–ª–∞ –Ω–µ –∫—Ä–∏—á–∏—Ç ‚Äî –æ–Ω–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ –≤–µ—â–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.¬ª',
  '¬´–û–¥–∏–Ω –¥–æ–±—Ä—ã–π –≤—ã–±–æ—Ä –∫ —Å–µ–±–µ ‚Äî —ç—Ç–æ –≥–æ–ª–æ—Å –∑–∞ –±—É–¥—É—â–µ–µ.¬ª',
  '¬´–ù–µ –Ω–∞–¥–æ –±—ã—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–º, —á—Ç–æ–±—ã –±—ã—Ç—å –≤–∞–∂–Ω—ã–º.¬ª',
  '¬´–î–∞–∂–µ —Å–µ—Ä—ã–π –¥–µ–Ω—å –¥–µ—Ä–∂–∏—Ç –º–µ—Å—Ç–æ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–æ–≥–æ —Å–≤–µ—Ç–∞.¬ª',
  '¬´–¢–≤–æ–∏ —à–∞–≥–∏ —Å–ª—ã—à–Ω–µ–µ, —á–µ–º —Å–æ–º–Ω–µ–Ω–∏—è.¬ª',
  '¬´–°–º—ã—Å–ª –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç ‚Äî –µ–≥–æ —Å—Ç—Ä–æ—è—Ç –∏–∑ –¥–µ–ª.¬ª',
  '¬´–ë–µ—Ä–µ–≥–∏ —Ç–æ, —á—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, –∏ –æ—Ç–ø—É—Å–∫–∞–π —Ç–æ, —á—Ç–æ —Ç—è–Ω–µ—Ç –≤–Ω–∏–∑.¬ª',
  '¬´–¢—ã –Ω–µ –æ–±—è–∑–∞–Ω —Ç–∞—â–∏—Ç—å —á—É–∂–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è.¬ª',
  '¬´–í–µ—Ä–Ω–æ—Å—Ç—å —Å–µ–±–µ ‚Äî —ç—Ç–æ —Ç–æ–∂–µ –ª—é–±–æ–≤—å.¬ª',
  '¬´–ö–∞–∂–¥–æ–µ ‚Äú—Å–µ–≥–æ–¥–Ω—è‚Äù –º–æ–∂–µ—Ç –±—ã—Ç—å —á—É—Ç—å –¥–æ–±—Ä–µ–µ, —á–µ–º ‚Äú–≤—á–µ—Ä–∞‚Äù.¬ª'
];

// 50 —Ñ—Ä–∞–∑ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
const notifPhrases = [
  'üåø –°–¥–µ–ª–∞–π –≤–¥–æ—Ö. –¢—ã —Å–ø—Ä–∞–≤–ª—è–µ—à—å—Å—è.',
  'üíß –í–æ–¥–∞ –∏ –ø–∞—É–∑–∞ ‚Äî –º–∞–ª–µ–Ω—å–∫–∞—è –∑–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ.',
  'ü´∂ –¢—ã –Ω–µ –æ–¥–∏–Ω. –Ø —Å —Ç–æ–±–æ–π —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.',
  'üå§ –ù–µ–º–Ω–æ–≥–æ —Å–≤–µ—Ç–∞ –≤–Ω—É—Ç—Ä–∏ ‚Äî —É–∂–µ –ø–æ–±–µ–¥–∞.',
  'üß≠ –¢–≤–æ–π –∫—É—Ä—Å ‚Äî –±—ã—Ç—å –¥–æ–±—Ä—ã–º –∫ —Å–µ–±–µ.',
  'üéØ –ú–∞–ª–µ–Ω—å–∫–∞—è —Ü–µ–ª—å –Ω–∞ —ç—Ç–æ—Ç —á–∞—Å?',
  'üïä –û—Ç–ø—É—Å—Ç–∏ –ª–∏—à–Ω–µ–µ, –≤–æ–∑—å–º–∏ –Ω—É–∂–Ω–æ–µ.',
  'üçÄ –¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –ø–µ—Ä–µ–¥—ã—à–∫–∏.',
  'üìå –ü–æ–º–Ω–∏: 5 –¥–µ–ª ‚Äî —É–∂–µ —Å–µ—Ä–∏—è.',
  'üî• –í–Ω—É—Ç—Ä–∏ –µ—Å—Ç—å —Ç–æ–ø–ª–∏–≤–æ. –î–æ–±–∞–≤—å –∏—Å–∫—Ä—É.',
  'üß± –ï—â—ë –æ–¥–∏–Ω –∫–∏—Ä–ø–∏—á–∏–∫ –æ–ø–æ—Ä—ã —Å–µ–≥–æ–¥–Ω—è?',
  'üé∂ –ú–∏–Ω—É—Ç–∫–∞ —Ç–∏—à–∏–Ω—ã —Ç–æ–∂–µ –º—É–∑—ã–∫–∞.',
  'üåà –¢–µ–±—è –∂–¥—ë—Ç —á—Ç–æ-—Ç–æ —Ç—ë–ø–ª–æ–µ. –ù–∞–π–¥–∏ —ç—Ç–æ.',
  'üß° –°–ø–∞—Å–∏–±–æ —Å–µ–±–µ –∑–∞ –º–∞–ª–µ–Ω—å–∫–æ–µ ¬´–¥–∞¬ª.',
  'üåô –ë–µ—Ä–µ–≥–∏ –≤–µ—á–µ—Ä, –æ–Ω –ø—Ä–æ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ.',
  'üí™ –¢—ã —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –≤—á–µ—Ä–∞—à–Ω–∏–µ —Å–æ–º–Ω–µ–Ω–∏—è.',
  'üåä –ú—è–≥–∫–∞—è –≤–æ–ª–Ω–∞ ‚Äî —Å–¥–µ–ª–∞–π –ø–∞—É–∑—É –∏ –≤–¥–æ—Ö.',
  'üìñ –û–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äî —ç—Ç–æ —Ç–æ–∂–µ —à–∞–≥.',
  'üçé –ü–æ—Ä–∞ –æ —Å–µ–±–µ –≤–∫—É—Å–Ω–æ –ø–æ–∑–∞–±–æ—Ç–∏—Ç—å—Å—è.',
  'üß© –ú–∞–ª–µ–Ω—å–∫–∞—è –¥–µ—Ç–∞–ª—å —Å–æ–±–∏—Ä–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω—É.',
  'ü´ß –ß–∏—Å—Ç—ã–π —Å—Ç–æ–ª ‚Äî —á–∏—Å—Ç–∞—è –≥–æ–ª–æ–≤–∞.',
  'üïØ –ù–µ–º–Ω–æ–≥–æ —É—é—Ç–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è.',
  'üîã –ü–æ–ø–æ–ª–Ω–∏ —ç–Ω–µ—Ä–≥–∏—é —Å—Ç–∞–∫–∞–Ω–æ–º –≤–æ–¥—ã.',
  'üßó –°–ª–æ–∂–Ω–æ–µ –Ω–µ –ø—É–≥–∞–µ—Ç ‚Äî —Ç—ã –Ω–µ –æ–¥–∏–Ω.',
  'üå± –†–æ—Å—Ç ‚Äî —ç—Ç–æ –º–∏–ª–ª–∏–º–µ—Ç—Ä—ã, –Ω–µ –ø—Ä—ã–∂–∫–∏.',
  'üì¨ –ù–∞–ø–∏—à–∏ –¥–æ–±—Ä–æ–µ —Å–ª–æ–≤–æ –∫–æ–º—É-—Ç–æ (–∏ —Å–µ–±–µ).',
  'üì∂ –û—Ç–∫–ª—é—á–∏ —à—É–º, –Ω–∞—Å—Ç—Ä–æ–π —Å–µ–±—è.',
  'üß† –¢—ã –≤–∞–∂–Ω–µ–µ, —á–µ–º —Å–ø–∏—Å–æ–∫ –¥–µ–ª.',
  'üéí –ß—Ç–æ –≤–æ–∑—å–º—ë—à—å –≤ —Å–ª–µ–¥—É—é—â–∏–π —á–∞—Å?',
  'üßØ –£—Å–ø–æ–∫–æ–π —Ç—Ä–µ–≤–æ–≥—É –º—è–≥–∫–∏–º –¥–µ–π—Å—Ç–≤–∏–µ–º.',
  'üéà –õ–µ–≥—á–µ –Ω–µ –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–æ—Å—Ç–æ ‚Äî –∞ –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã —Ä—è–¥–æ–º —Å —Å–æ–±–æ–π.',
  'üîë –ú–∞–ª–µ–Ω—å–∫–∏–π –≤—ã–±–æ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±–æ–ª—å—à–∏–µ –¥–≤–µ—Ä–∏.',
  'üßä –û—Ö–ª–∞–¥–∏ –º—ã—Å–ª–∏: –≤–¥–æ—Ö ‚Äî 4, –ø–∞—É–∑–∞ ‚Äî 4, –≤—ã–¥–æ—Ö ‚Äî 6.',
  'ü™¥ –ü–æ–ª–µ–π —Å–µ–±—è –∑–∞–±–æ—Ç–æ–π, –∫–∞–∫ —Ä–∞—Å—Ç–µ–Ω–∏—è.',
  'üß≠ –ü–æ–º–Ω–∏, –ø–æ—á–µ–º—É –Ω–∞—á–∞–ª: –±—ã—Ç—å –¥–æ–±—Ä–µ–µ –∫ —Å–µ–±–µ.',
  'üìà –¢–≤–æ—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è ‚Äî –≤–≤–µ—Ä—Ö, –ø–æ–Ω–µ–º–Ω–æ–≥—É.',
  'ü´∂ –¢—ã –¥–æ—Å—Ç–æ–∏–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –±–µ–∑ —É—Å–ª–æ–≤–∏–π.',
  'üå§ –î–∞–∂–µ —Å–µ—Ä—ã–π –¥–µ–Ω—å –¥–µ—Ä–∂–∏—Ç –º–µ—Å—Ç–æ –¥–ª—è —Å–≤–µ—Ç–∞.',
  'üéß –ü–æ—Å–ª—É—à–∞–π —Ç–∏—à–∏–Ω—É –≤–Ω—É—Ç—Ä–∏.',
  'üßΩ 1 –º–∏–Ω—É—Ç–∞ –ø–æ—Ä—è–¥–∫–∞ ‚Äî –º–∏–Ω—É—Å 10% —Ö–∞–æ—Å–∞.',
  'üßò –°—è–¥—å —Ä–æ–≤–Ω–æ, —Ä–∞—Å–∫—Ä–æ–π –ø–ª–µ—á–∏. –£–∂–µ –ª—É—á—à–µ.',
  'üçµ –¢—ë–ø–ª—ã–π –Ω–∞–ø–∏—Ç–æ–∫ –±–µ–∑ —ç–∫—Ä–∞–Ω–∞?',
  'üìÖ –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ —á—É—Ç—å –±–æ–ª—å—à–µ –æ —Å–µ–±–µ.',
  '‚öì –ó–∞–∫—Ä–µ–ø–∏—Å—å –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º: —á—Ç–æ –≤–∏–¥–∏—à—å, —Å–ª—ã—à–∏—à—å, —á—É–≤—Å—Ç–≤—É–µ—à—å?',
  'ü™û –ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ —Å–µ–±—è –º—è–≥–∫–æ. –¢—ã —Å—Ç–∞—Ä–∞–µ—à—å—Å—è.',
  'üèÖ –ö–∞–∂–¥–∞—è –≥–∞–ª–æ—á–∫–∞ ‚Äî –≥–æ–ª–æ—Å –∑–∞ —Ç–µ–±—è.',
  'üîï –ß—É—Ç—å —Ç–∏—à–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Äî –≥—Ä–æ–º—á–µ —Ç—ã.',
  'üåô –°–ø–æ–∫–æ–π–Ω–∞—è –Ω–æ—á—å —Ä–∞—Å—Ç—ë—Ç –∏–∑ —Å–ø–æ–∫–æ–π–Ω–æ–≥–æ —á–∞—Å–∞.',
  'üö∂ –ù–µ–±–æ–ª—å—à–∞—è –ø—Ä–æ–≥—É–ª–∫–∞? –¢–µ–ª—É –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è.',
  'üí¨ –ï—Å–ª–∏ –±—ã –¥—Ä—É–≥ –±—ã–ª –Ω–∞ —Ç–≤–æ—ë–º –º–µ—Å—Ç–µ ‚Äî —á—Ç–æ –±—ã —Ç—ã –µ–º—É —Å–∫–∞–∑–∞–ª? –°–∫–∞–∂–∏ —ç—Ç–æ —Å–µ–±–µ.'
];

// =============== –°–û–°–¢–û–Ø–ù–ò–ï ===============
let data = JSON.parse(localStorage.getItem('quietCare')||'{}');
const todayKey = new Date().toISOString().slice(0,10);

// –º–∏–≥—Ä–∞—Ü–∏—è
(function migrate(){
  for (const day in data){
    if (!data[day] || !Array.isArray(data[day].tasks)) continue;
    data[day].tasks = data[day].tasks.map(t => {
      if (typeof t === 'string') {
        const wasHard = t.startsWith('[–°–ª–æ–∂–Ω–æ]');
        return { text: wasHard ? t.replace(/^\[–°–ª–æ–∂–Ω–æ\]\s*/,'') : t, done:false, hard: wasHard };
      }
      if (t && typeof t === 'object') {
        const obj = { text: t.text || '', done: !!t.done, hard: !!t.hard };
        if (/^\[–°–ª–æ–∂–Ω–æ\]/.test(obj.text)) { obj.text = obj.text.replace(/^\[–°–ª–æ–∂–Ω–æ\]\s*/,''); obj.hard = true; }
        return obj;
      }
      return { text:'', done:false, hard:false };
    });
  }
  localStorage.setItem('quietCare', JSON.stringify(data));
})();

if (!data[todayKey]) generateToday();

function generateToday(){
  const shuffledNormal = shuffle(normalTasks).slice(0,5).map(t => ({text:t, done:false, hard:false}));
  const shuffledHard = shuffle(hardTasks).slice(0,3).map(t => ({text:`${t}`, done:false, hard:true}));
  data[todayKey] = { tasks:[...shuffledNormal, ...shuffledHard], rewarded:false };
  localStorage.setItem('quietCare', JSON.stringify(data));
}

// =============== –†–ï–ù–î–ï–† ===============
function render(){
  document.getElementById('date').textContent = new Date().toLocaleDateString('ru-RU', { weekday:'long', day:'numeric', month:'long' });

  const today = data[todayKey];
  const wrap = document.getElementById('tasks');
  wrap.innerHTML = '';
  today.tasks.forEach((task, i) => {
    const div = document.createElement('div');
    div.className = 'task' + (task.hard ? ' hard' : '') + (task.done ? ' done' : '');
    const badge = task.hard ? `<span class="badge" title="—Å–ª–æ–∂–Ω–µ–µ"><span class="dot">üßó</span></span>` : '';
    div.innerHTML = `
      <input type="checkbox" ${task.done?'checked':''} onchange="toggleTask(${i})" aria-label="${task.text}">
      <div class="txt">${task.text} ${badge}</div>
    `;
    wrap.appendChild(div);
  });
  renderStats();
}

function toggleTask(i){
  const today = data[todayKey];
  const t = today.tasks[i];
  t.done = !t.done;

  let msg = messages[Math.floor(Math.random()*messages.length)];
  if (t.done && t.hard){
    msg += '\n' + deepQuotes[Math.floor(Math.random()*deepQuotes.length)];
  }
  const box = document.getElementById('message');
  box.textContent = t.done ? msg : '';
  box.style.display = t.done ? 'block' : 'none';

  localStorage.setItem('quietCare', JSON.stringify(data));
  renderStats();
  render();
}

function renderStats(){
  const days = Object.keys(data).sort();
  let series = 0, maxSeries = 0, totalDone = 0, crowns = 0;
  days.forEach(day => {
    const d = data[day]; if(!d || !Array.isArray(d.tasks)) return;
    const doneCount = d.tasks.filter(x=>x.done).length; totalDone += doneCount;
    if (doneCount >= 5) { series++; maxSeries = Math.max(maxSeries, series); } else { series = 0; }
    if (d.rewarded) crowns++;
  });

  const today = data[todayKey];
  const todayDoneAll = today.tasks.every(t => t.done);
  if (todayDoneAll && !today.rewarded){ today.rewarded = true; localStorage.setItem('quietCare', JSON.stringify(data)); celebrate(); }

  document.getElementById('stats').textContent =
    `–°–µ—Ä–∏—è –¥–Ω–µ–π: ${series} (–º–∞–∫—Å: ${maxSeries})\n–í—Å–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: ${totalDone}\n–°–µ–≥–æ–¥–Ω—è: ${today.tasks.filter(t=>t.done).length}/8` +
    (todayDoneAll ? '\nüèÖ –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!' : '');

  document.getElementById('rewards').textContent = crowns>0 ? `üèÜ –ù–∞–≥—Ä–∞–¥: ${crowns}` : '–ü–æ–∫–∞ –±–µ–∑ –Ω–∞–≥—Ä–∞–¥.';

  const rewardBox = document.getElementById('rewardBox');
  rewardBox.className = 'reward' + (today.rewarded ? ' show' : '');
  if (today.rewarded){
    rewardBox.textContent = 'üéñ –û—Ç–ª–∏—á–Ω–æ! –ó–∞ –ø–æ–ª–Ω—ã–π –¥–µ–Ω—å ‚Äî +1 –Ω–∞–≥—Ä–∞–¥–∞. –ú–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ –º–µ–Ω—è—é—Ç —Å—é–∂–µ—Ç.';
  }
}

function newDay(){
  generateToday();
  render();
}

function shareProgress(){
  const today = data[todayKey];
  const done = today.tasks.filter(t=>t.done).length;
  const text = `–¢–∏—Ö–∞—è –ó–∞–±–æ—Ç–∞ ‚Äî ${done}/8 –¥–µ–ª —Å–µ–≥–æ–¥–Ω—è. –°–µ—Ä–∏—è –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ 5+. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è!`;
  if (navigator.share) navigator.share({ text });
  else navigator.clipboard.writeText(text).then(()=> alert('–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω ‚Äî –º–æ–∂–Ω–æ –¥–µ–ª–∏—Ç—å—Å—è!'));
}

function shuffle(a){ return [...a].sort(()=>Math.random()-.5); }

function celebrate(){
  const root = document.getElementById('confetti');
  for (let i=0;i<100;i++){
    const el = document.createElement('i');
    el.style.setProperty('--x', Math.random()*100+'vw');
    el.style.setProperty('--r', Math.random()*360+'deg');
    el.style.setProperty('--h', Math.floor(Math.random()*360));
    root.appendChild(el);
    setTimeout(()=> el.remove(), 1300);
  }
}

// –°–∞–º–æ—Ç–µ—Å—Ç—ã
(function runSelfTests(){
  console.assert(normalTasks.length >= 60, '–û–∂–∏–¥–∞–µ—Ç—Å—è ‚â•60 –æ–±—ã—á–Ω—ã—Ö –∑–∞–¥–∞—á');
  console.assert(hardTasks.length >= 30, '–û–∂–∏–¥–∞–µ—Ç—Å—è ‚â•30 —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á');
  console.assert(messages.length >= 45, '–û–∂–∏–¥–∞–µ—Ç—Å—è ‚â•45 —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏');
  console.assert(deepQuotes.length >= 20, '–û–∂–∏–¥–∞–µ—Ç—Å—è ‚â•20 –≥–ª—É–±–æ–∫–∏—Ö —Ñ—Ä–∞–∑');
  const today = data[todayKey];
  console.assert(today.tasks.length === 8, '–ù–∞ –¥–µ–Ω—å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 8 –∑–∞–¥–∞—á');
  console.assert(today.tasks.filter(t=>t.hard).length === 3, '–ù–∞ –¥–µ–Ω—å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–æ–≤–Ω–æ 3 —Å–ª–æ–∂–Ω—ã—Ö');
})();

// ======== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø (Web + Capacitor) ========
const NOTIFY_FLAG_KEY = 'quietCare_notifyOn';
const notifyBtn = () => document.getElementById('notifyBtn');

async function toggleNotifications(){
  const on = JSON.parse(localStorage.getItem(NOTIFY_FLAG_KEY)||'false');
  if (on){
    await cancelAllNotifications();
    localStorage.setItem(NOTIFY_FLAG_KEY, 'false');
    if (notifyBtn()) notifyBtn().textContent = '–í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è';
    alert('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–∫–ª—é—á–µ–Ω—ã.');
    return;
  }
  const granted = await ensurePermission();
  if (!granted){ alert('–ù—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.'); return; }
  await scheduleHourlyNotifications();
  localStorage.setItem(NOTIFY_FLAG_KEY, 'true');
  if (notifyBtn()) notifyBtn().textContent = '–û—Ç–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è';
  alert('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã: —Ä–∞–∑ –≤ —á–∞—Å –±—É–¥–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —Ñ—Ä–∞–∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.');
}

function topOfNextHour(date=new Date()){
  const d = new Date(date);
  d.setMinutes(0,0,0);
  d.setHours(d.getHours()+1);
  return d;
}

function getRandomNotifPhrase(){
  return notifPhrases[Math.floor(Math.random()*notifPhrases.length)];
}

async function ensurePermission(){
  const cap = window.Capacitor; const plugins = cap?.Plugins || cap; const LN = plugins?.LocalNotifications;
  if (LN){
    try{
      await LN.requestPermissions();
      const chId = 'quietcare';
      if (LN.createChannel) await LN.createChannel({ id: chId, name: '–¢–∏—Ö–∞—è –ó–∞–±–æ—Ç–∞', importance: 4, visibility: 1, lightColor: '#6c63ff' });
      return true;
    }catch(e){ console.warn(e); }
  }
  if (('Notification' in window)){
    if (Notification.permission === 'granted') return true;
    const res = await Notification.requestPermission();
    return res === 'granted';
  }
  return false;
}

async function cancelAllNotifications(){
  const cap = window.Capacitor; const plugins = cap?.Plugins || cap; const LN = plugins?.LocalNotifications;
  if (LN){ try{ await LN.cancel({ notifications: [] }); }catch(e){ console.warn(e); } }
  if (window._notifyIntervals){ window._notifyIntervals.forEach(clearTimeout); window._notifyIntervals=[]; }
}

async function scheduleHourlyNotifications(){
  const cap = window.Capacitor; const plugins = cap?.Plugins || cap; const LN = plugins?.LocalNotifications;
  const base = topOfNextHour();
  if (LN){
    const list = [];
    for (let i=0;i<24;i++){
      const at = new Date(base.getTime() + i*60*60*1000);
      list.push({ id: 1000+i, title: '–¢–∏—Ö–∞—è –ó–∞–±–æ—Ç–∞', body: getRandomNotifPhrase(), schedule: { at }, channelId: 'quietcare', sound: null });
    }
    await LN.schedule({ notifications: list });
  } else if ('Notification' in window) {
    window._notifyIntervals = window._notifyIntervals || [];
    for (let i=0;i<8;i++){
      const at = new Date(base.getTime() + i*60*60*1000) - Date.now();
      const id = setTimeout(()=>{
        new Notification('–¢–∏—Ö–∞—è –ó–∞–±–æ—Ç–∞', { body: getRandomNotifPhrase() });
      }, Math.max(0, at));
      window._notifyIntervals.push(id);
    }
  }
}

function updateNotifyButton(){
  const on = JSON.parse(localStorage.getItem(NOTIFY_FLAG_KEY)||'false');
  if (notifyBtn()) notifyBtn().textContent = on ? '–û—Ç–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è' : '–í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è';
}

updateNotifyButton();
render();
</script>
</body>
</html>
